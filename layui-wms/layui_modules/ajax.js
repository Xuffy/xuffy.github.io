"use strict";layui.define(["_config","element"],function(r){function e(r,e){var a=s("start");return e=_.extend({base:"",isMock:o.isMock},e),r.url=(e.base||(e.isMock?"/":o.env.api))+r.url,r.dataType="json",r.contentType="application/json",$.ajax(r).error(function(e){if(s("error",a),200!==e.status)throw new Error("[_ajax.modules] api error state - {0} {1}".format(e.status||"000",r.url))}).then(function(e){if(s("success",a),_.isEmpty(e))throw new Error("[_ajax.modules] api no return value {0}".format(r.url));return e.data||[]})}function s(r,e){var s=null,a=0,o=$("#dx-progress-page");switch(r){case"start":var n=_.random(80,99);return o.removeClass("layui-hide").find(".layui-progress-bar").removeClass("dx-progress-red"),setInterval(function(){a=_.random(a,a+50>n?n:a+50),t.progress("request-progress",a+"%")},_.random(350,500));case"success":clearInterval(e),t.progress("request-progress","100%"),s=setTimeout(function(){clearTimeout(s),o.find(".layui-progress-bar").addClass("dx-progress-red"),$("#dx-progress-page").addClass("layui-hide"),t.progress("request-progress","0%")},500);break;case"error":o.find(".layui-progress-bar").addClass("dx-progress-red"),clearInterval(e),t.progress("request-progress","100%"),s=setTimeout(function(){clearTimeout(s),$("#dx-progress-page").addClass("layui-hide"),t.progress("request-progress","0%")},1e3)}}var a={},t=layui.element(),o=layui._config;a.get=function(r,s){return r.type="GET",e(r,s)},a.post=function(r,s){return r.type="POST",r.data=JSON.stringify(r.data),e(r,s)},r("_ajax",a)});